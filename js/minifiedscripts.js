let pokemonRepository=function(){let e=[];function t(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(t){e.push(t)}function n(){return e}function r(e){return fetch(e.detailsUrl).then(e=>e.json()).then(o=>{e.imageUrl=o.sprites.front_default,e.height=o.height,e.types=o.types.map(e=>t(e.type.name)).join(", ")}).catch(e=>{console.error("Error loading Pokemon details",e),alert("Unable to load Pok\xe9mon details. Please try again later.")})}function a(e){r(e).then(()=>{document.querySelector("#pokemonModalLabel").innerText=t(e.name);let o=document.querySelector(".modal-body");o.innerHTML=`
    <img src="${e.imageUrl}" class="img-fluid mb-3" alt="${e.name}">
    <p><strong>Height:</strong> ${e.height} cm</p>
    <p><strong>Types:</strong> ${e.types}</p>
    `,o.setAttribute("id","modal-content-description"),document.querySelector("#pokemonModal").setAttribute("aria-labelledby","modal-content-description")})}return{add:o,getAll:n,addListItem:function e(o){let n=document.querySelector(".pokemon-list"),i=document.createElement("li");i.classList.add("list-group-item");let l=document.createElement("button");l.innerText=t(o.name),l.classList.add("btn","btn-custom","w-100"),l.setAttribute("data-bs-toggle","modal"),l.setAttribute("data-bs-target","#pokemonModal"),l.setAttribute("aria-label",`View details for ${t(o.name)}`),r(o).then(()=>{var e;let t=o.types.split(", "),n={Normal:"#F3E5AB",Fire:"#FFD1BA",Water:"#ADD8E6",Electric:"#F9E79F",Grass:"#B8E994",Ice:"#D4F1F9",Fighting:"#F7C5CC",Poison:"#D7BCE8",Ground:"#EDD9A3",Flying:"#C4DDED",Psychic:"#FDC5C5",Bug:"#E3F6CE",Rock:"#D5CABD",Ghost:"#D7CEE8",Dragon:"#E6D5F7",Dark:"#A8A8A8",Steel:"#D9E2E6",Fairy:"#FAD9E6"}[e=t[0]]||"#FFFFFF";l.addEventListener("mouseenter",()=>{l.style.backgroundColor=n}),l.addEventListener("mouseleave",()=>{l.style.backgroundColor=""})}),i.appendChild(l),n.appendChild(i),l.addEventListener("click",function(){a(o)})},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/").then(e=>e.json()).then(e=>{e.results.forEach(e=>{o({name:e.name,detailsUrl:e.url})})}).catch(e=>{console.error("Error loading Pokemon list",e),alert("Unable to load Pok\xe9mon list. Please try again later.")})},loadDetails:r,showDetails:a}}();pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().forEach(e=>{pokemonRepository.addListItem(e)})});